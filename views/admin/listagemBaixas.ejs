<script src="/js/js/listagemBaixas.js" defer></script>

<style>
.baixas-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
}

.page-header {
    background: #28a745;
    color: white;
    padding: 30px;
    border-radius: 10px;
    margin-bottom: 30px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.page-header h1 {
    margin: 0;
    font-size: 28px;
    font-weight: 600;
}

.btn-nova-baixa {
    background: white;
    color: #28a745;
    padding: 12px 24px;
    border-radius: 5px;
    text-decoration: none;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: background 0.3s ease;
}

.btn-nova-baixa:hover {
    background: #f0f0f0;
    color: #28a745;
    text-decoration: none;
}

.filtros-card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    padding: 20px;
    margin-bottom: 20px;
}

.filtros-row {
    display: flex;
    gap: 15px;
    align-items: flex-end;
}

.form-group {
    flex: 1;
}

.form-group label {
    display: block;
    font-weight: 500;
    color: #555;
    margin-bottom: 5px;
    font-size: 14px;
}

.form-control {
    width: 100%;
    padding: 10px 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 14px;
}

.btn-filtrar {
    background: #28a745;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: 500;
    height: 42px;
    transition: background 0.3s ease;
}

.btn-filtrar:hover {
    background: #218838;
    color: white;
}

.table-container {
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    overflow: hidden;
}

.baixas-table {
    width: 100%;
    border-collapse: collapse;
}

.baixas-table thead {
    background: #f8f9fa;
}

.baixas-table th {
    padding: 15px;
    text-align: left;
    font-weight: 600;
    color: #333;
    border-bottom: 2px solid #dee2e6;
}

.baixas-table td {
    padding: 15px;
    border-bottom: 1px solid #dee2e6;
}

.baixas-table tbody tr:hover {
    background: #f8f9fa;
}

.badge {
    padding: 5px 10px;
    border-radius: 3px;
    font-size: 12px;
    font-weight: 500;
}

.badge-success {
    background: #d4edda;
    color: #155724;
}

.btn-detalhes {
    background: #28a745;
    color: white;
    padding: 6px 12px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    font-size: 13px;
    transition: background 0.3s ease;
}

.btn-detalhes:hover {
    background: #218838;
    color: white;
    text-decoration: none;
}

.empty-state {
    text-align: center;
    padding: 60px 20px;
    color: #999;
}

.empty-state i {
    font-size: 64px;
    margin-bottom: 20px;
    opacity: 0.5;
}

.loading {
    text-align: center;
    padding: 40px;
    color: #667eea;
}
</style>

<div class="baixas-container">
    <div class="page-header">
        <div>
            <h1><i class="bi bi-clock-history"></i> Histórico de Baixas de Estoque</h1>
            <p style="margin: 10px 0 0 0; opacity: 0.9;">Consulte todas as baixas realizadas</p>
        </div>
        <a href="/admin/baixa/cadastrar" class="btn-nova-baixa">
            <i class="bi bi-plus-lg"></i>
            Nova Baixa
        </a>
    </div>

    <div class="filtros-card">
        <div class="filtros-row">
            <div class="form-group">
                <label for="filtroTermo">Buscar</label>
                <input 
                    type="text" 
                    class="form-control" 
                    id="filtroTermo" 
                    placeholder="ID da baixa ou nome do funcionário..."
                >
            </div>
            <div class="form-group">
                <label for="filtroDataInicio">Data Início</label>
                <input 
                    type="date" 
                    class="form-control" 
                    id="filtroDataInicio"
                >
            </div>
            <div class="form-group">
                <label for="filtroDataFim">Data Fim</label>
                <input 
                    type="date" 
                    class="form-control" 
                    id="filtroDataFim"
                >
            </div>
            <button class="btn-filtrar" id="btnFiltrar">
                <i class="bi bi-search"></i> Filtrar
            </button>
        </div>
    </div>

    <div class="table-container">
        <div id="loading" class="loading" style="display: none;">
            <i class="bi bi-hourglass-split"></i>
            <p>Carregando baixas...</p>
        </div>

        <table class="baixas-table" id="tabelaBaixas" style="display: none;">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Data</th>
                    <th>Funcionário</th>
                    <th>Total de Itens</th>
                    <th>Valor Total</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody id="corpoTabela">
            </tbody>
        </table>

        <div id="emptyState" class="empty-state" style="display: none;">
            <i class="bi bi-inbox"></i>
            <p>Nenhuma baixa encontrada</p>
        </div>
    </div>
</div>
